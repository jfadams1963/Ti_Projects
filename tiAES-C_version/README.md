# tiAES-C
AES for the TI-89/90+ in C  

The _portable_ version compiles and works without error. The next step is for someone to port it to the TI platform with TIGCC.  

It is a very simple (simple minded?), straight forward implementation of AES using CBC mode (Cipher Block Chaining) with a random IV (Initialization Vector), and produces FIPS compliant output. It is not suitable for real world usage, but only serves as an educational excercise.  

It was originally written to take key sizes of 128bit, 192bit and 256bit. This working version is locked in at 256bits by using a SHA256 hash of the entered passphrase as the key.  

__STATUS__  

The program encrypts and decrypts files of any size using CBC mode AES with PKCS padding. The random IV is generated by using the OpenSSL random number generator. A 64Byte/512bit random number is generated and digested using SHA256. The first 16Bytes of the hash are used as the IV. As such, you will need the OpenSSL libraries installed.   

The purpose of hashing the 64Bytes of randomness is that software produced randomness is 'pseudorandom' and contains mathematical structure that can possibly tell an attacker something predictable about your generator. Hashing the random sequence 'smoothes out' any structure thereby increasing security. We say that the hash has higher entropy than the pseudorandom number sequence.  

The key is an SHA256 hash of the passphrase providing a 32byte/256bit key. Not only does this provide us with a fixed-length key--32Bytes/256bits--but it also, again, smoothes out the (very) low-entropy passphrase and gives us a realatively high-entropy key. The increased entropy helps improve the security of the encryption key.  

The KeyExpanson and Cypher routines produce FIPS-197 compliant output as verified with a block-by-block comparison to the "APPENDIX A - KEY EXPANSION EXAMPLES", "APPENDIX B – CIPHER EXAMPLE", and "Appendix C – Example Vectors"  in the FIPS 197 documentation: https://csrc.nist.gov/files/pubs/fips/197/final/docs/fips-197.pdf  (See tiAES-C_version/portable/src/keyutils.c and tiAES-C_version/portable/src/encr.c)  

The portable version compiles cleanly with Clang 16.0.6 on FreeBSD 14, and GCC 11.4.0 on some sort of Linux.  

__Build Requirements__  

The FreeBSD base system has all required libraries, but you will need to intall:  
+ gmake  

On Debian/Ubuntu, install these packages:  
+ build-essential 
+ libssl-dev
+ libbsd0
+ libbsd-dev

